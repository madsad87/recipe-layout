{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./lib/js/components/image-toggle-info.js","webpack:///./lib/js/editor/image-toggle.js","webpack:///./lib/js/editor/new-meta.js","webpack:///./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///external {\"this\":[\"wp\",\"a11y\"]}","webpack:///external {\"this\":[\"wp\",\"apiFetch\"]}","webpack:///external {\"this\":[\"wp\",\"components\"]}","webpack:///external {\"this\":[\"wp\",\"compose\"]}","webpack:///external {\"this\":[\"wp\",\"data\"]}","webpack:///external {\"this\":[\"wp\",\"element\"]}","webpack:///external {\"this\":[\"wp\",\"i18n\"]}","webpack:///external {\"this\":[\"wp\",\"plugins\"]}","webpack:///external {\"this\":\"lodash\"}"],"names":["ImageToggleInfo","props","updateSingularImagesSetting","bind","state","typesWithSingularImagesEnabled","currentUserCanEditThemeOptions","updating","apiFetch","path","then","types","setState","user","capabilities","edit_theme_options","includes","currentPostType","newValue","data","putRequest","method","statusAnnouncement","sprintf","__","currentPostTypeLabel","postTypeHasSingularImagesDisabled","speak","label","textClass","statusText","ariaText","linkText","newImageState","Component","GenesisImageToggleInfo","compose","withSelect","postType","select","getCurrentPostType","postTypeInfo","getPostType","get","GenesisHideFeaturedImageComponent","hideFeaturedImage","onUpdate","render","getEditedPostAttribute","_genesis_hide_singular_image","withDispatch","dispatch","editPost","meta","newMeta","registerPlugin","newKey","currentMeta","genesisMeta","Object","keys","filter","key","startsWith","reduce","obj"],"mappings":"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","file":"image-toggle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./lib/js/editor/image-toggle.js\");\n","/**\n * Provides a GenesisImageToggleInfo component that displays the state\n * of the “display Singular Images” checkbox for the current post type.\n *\n * Offers a link to either disable or enable Singular Images site-wide\n * for the current post type. The goal is to reduce the need to leave\n * the editor and visit the Customizer to turn Singular Image on or off.\n *\n * @since   3.1.0\n * @package Genesis\\JS\n * @author  StudioPress\n * @license GPL-2.0-or-later\n */\n\n/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { Component } from '@wordpress/element';\nimport { compose } from '@wordpress/compose';\nimport { select, withSelect } from '@wordpress/data';\nimport { Spinner } from '@wordpress/components';\nimport { speak } from '@wordpress/a11y';\nimport apiFetch from '@wordpress/api-fetch';\n\n/**\n * External dependencies.\n */\nimport { get } from 'lodash';\n\nclass ImageToggleInfo extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\t// Enable access to this.props inside `updateSingularImagesSetting`.\n\t\tthis.updateSingularImagesSetting = this.updateSingularImagesSetting.bind( this );\n\n\t\tthis.state = {\n\t\t\ttypesWithSingularImagesEnabled: [],\n\t\t\tcurrentUserCanEditThemeOptions: false,\n\t\t\tupdating: false,\n\t\t};\n\t}\n\n\t/**\n\t * Gets post types with singular images enabled and user capabilities.\n\t */\n\tcomponentDidMount() {\n\t\tapiFetch( { path: '/genesis/v1/singular-images' } ).then( ( types ) => {\n\t\t\tthis.setState( { typesWithSingularImagesEnabled: types } );\n\t\t} );\n\n\t\tapiFetch( { path: '/wp/v2/users/me?context=edit' } ).then( ( user ) => {\n\t\t\tif ( user.capabilities.edit_theme_options ) {\n\t\t\t\tthis.setState( { currentUserCanEditThemeOptions: user.capabilities.edit_theme_options } );\n\t\t\t}\n\t\t} );\n\t}\n\n\t/**\n\t * Gives current state of the “show featured images on…” Genesis setting\n\t * for the current post type the user is editing.\n\t *\n\t * @return {boolean} True if current post type has singular images disabled.\n\t */\n\tpostTypeHasSingularImagesDisabled() {\n\t\treturn ! this.state.typesWithSingularImagesEnabled.includes( this.props.currentPostType );\n\t}\n\n\t/**\n\t * Sets the “show featured images on (post-type)” setting to `newValue`\n\t * for the current post type.\n\t *\n\t * @param {number} newValue 1 to turn singular/featured images for the\n\t *                          current post type on. 0 to turn them off.\n\t *\n\t * @return {boolean} False to prevent default button actions.\n\t */\n\tupdateSingularImagesSetting( newValue ) {\n\t\tthis.setState( { updating: true } );\n\n\t\tconst data = {\n\t\t\t[ this.props.currentPostType ]: newValue,\n\t\t};\n\n\t\tconst putRequest = {\n\t\t\tpath: '/genesis/v1/singular-images',\n\t\t\tmethod: 'PUT',\n\t\t\tdata,\n\t\t};\n\n\t\tapiFetch( putRequest ).then( ( types ) => {\n\t\t\tthis.setState( {\n\t\t\t\tupdating: false,\n\t\t\t\ttypesWithSingularImagesEnabled: types,\n\t\t\t} );\n\n\t\t\t/* translators: %s: the current page type, such as “Pages” or “Posts”. */\n\t\t\tlet statusAnnouncement = sprintf( __( 'Featured images now enabled on %s.', 'genesis' ), this.props.currentPostTypeLabel );\n\n\t\t\tif ( this.postTypeHasSingularImagesDisabled() ) {\n\t\t\t\t/* translators: %s: the current page type, such as “Pages” or “Posts”. */\n\t\t\t\tstatusAnnouncement = sprintf( __( 'Featured images now disabled on %s.', 'genesis' ), this.props.currentPostTypeLabel );\n\t\t\t}\n\t\t\tspeak( statusAnnouncement, 'assertive' );\n\t\t} );\n\n\t\treturn false;\n\t}\n\n\trender() {\n\t\tif ( ! this.state.currentUserCanEditThemeOptions ) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif ( this.state.updating ) {\n\t\t\t/* translators: %s: the current page type, such as “Pages” or “Posts”. */\n\t\t\tlet label = sprintf( __( 'Disabling images on %s...', 'genesis' ), this.props.currentPostTypeLabel );\n\n\t\t\tif ( this.postTypeHasSingularImagesDisabled() ) {\n\t\t\t\t/* translators: %s: the current page type, such as “Pages” or “Posts”. */\n\t\t\t\tlabel = sprintf( __( 'Enabling images on %s...', 'genesis' ), this.props.currentPostTypeLabel );\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<p>\n\t\t\t\t\t<span>{ label }</span>\n\t\t\t\t\t<Spinner />\n\t\t\t\t</p>\n\t\t\t);\n\t\t}\n\n\t\tlet textClass = 'genesis-sidebar-label-enabled';\n\t\t/* translators: %s: the current page type, such as “Pages” or “Posts”. */\n\t\tlet statusText = sprintf( __( 'Featured images are enabled on %s. ', 'genesis' ), this.props.currentPostTypeLabel );\n\t\t/* translators: %s: the current page type, such as “Pages” or “Posts”. */\n\t\tlet ariaText = sprintf( __( 'Disable featured images on all %s?' ), this.props.currentPostTypeLabel );\n\t\tlet linkText = __( 'Disable images.', 'genesis' );\n\t\tlet newImageState = 0; // Turn featured images off.\n\n\t\tif ( this.postTypeHasSingularImagesDisabled() ) {\n\t\t\ttextClass = 'genesis-sidebar-label-disabled';\n\t\t\t/* translators: %s: the current page type, such as “Pages” or “Posts”. */\n\t\t\tstatusText = sprintf( __( 'Featured images are disabled on %s.', 'genesis' ), this.props.currentPostTypeLabel );\n\t\t\t/* translators: %s: the current page type, such as “Pages” or “Posts”. */\n\t\t\tariaText = sprintf( __( 'Enable featured images on all %s' ), this.props.currentPostTypeLabel );\n\t\t\tlinkText = __( 'Enable images.', 'genesis' );\n\t\t\tnewImageState = 1; // Turn featured images on.\n\t\t}\n\n\t\treturn (\n\t\t\t<p className={ textClass }>\n\t\t\t\t{ statusText + ' ' }\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"genesis-sidebar-text-button\"\n\t\t\t\t\tonClick={ () => this.updateSingularImagesSetting( newImageState ) }\n\t\t\t\t\taria-label={ ariaText }\n\t\t\t\t>\n\t\t\t\t\t{ linkText }\n\t\t\t\t</button>\n\t\t\t</p>\n\t\t);\n\t}\n}\n\n// Get current post type and label from the Block Editor Redux store.\nexport const GenesisImageToggleInfo = compose( [\n\twithSelect( () => {\n\t\tconst postType = select( 'core/editor' ).getCurrentPostType();\n\t\tconst postTypeInfo = select( 'core' ).getPostType( postType );\n\t\tconst label = get( postTypeInfo, 'name', __( 'Entries', 'genesis' ) );\n\t\treturn {\n\t\t\tcurrentPostType: postType,\n\t\t\tcurrentPostTypeLabel: label,\n\t\t};\n\t} ),\n] )( ImageToggleInfo );\n","/**\n * Adds a “hide featured image” checkbox to Genesis Block Editor sidebar in an\n * Image panel. Unchecked by default.\n *\n * If checked and the post is updated or published,\n * `_genesis_hide_singular_image` is set to true in post meta.\n *\n * @since   3.1.0\n * @package Genesis\\JS\n * @author  StudioPress\n * @license GPL-2.0-or-later\n */\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Fragment } from '@wordpress/element';\nimport { compose } from '@wordpress/compose';\nimport { select, withSelect, withDispatch } from '@wordpress/data';\nimport { CheckboxControl, Fill, PanelBody, PanelRow } from '@wordpress/components';\nimport { registerPlugin } from '@wordpress/plugins';\n\n/**\n * Internal dependencies\n */\nimport { GenesisImageToggleInfo } from '../components/image-toggle-info.js';\nimport { newMeta } from '../editor/new-meta.js';\n\n/**\n * Checkbox component for the hide title option.\n *\n * @param {Object} props Component properties.\n * @return {Object} GenesisHideFeaturedImageComponent.\n */\nfunction GenesisHideFeaturedImageComponent( { hideFeaturedImage = false, onUpdate } ) {\n\treturn (\n\t\t<Fragment>\n\t\t\t<Fill name=\"GenesisSidebar\">\n\t\t\t\t<PanelBody initialOpen={ true } title={ __( 'Images', 'genesis' ) }>\n\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t<CheckboxControl\n\t\t\t\t\t\t\tlabel={ __( 'Hide Featured Image', 'genesis' ) }\n\t\t\t\t\t\t\tchecked={ !! hideFeaturedImage }\n\t\t\t\t\t\t\tonChange={ () => onUpdate( ! hideFeaturedImage ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelRow>\n\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t<GenesisImageToggleInfo />\n\t\t\t\t\t</PanelRow>\n\t\t\t\t</PanelBody>\n\t\t\t</Fill>\n\t\t</Fragment>\n\t);\n}\n\n// Retrieves meta from the Block Editor Redux store (withSelect) to set initial checkbox state.\n// Persists it to the Redux store on change (withDispatch).\n// Changes are only stored in the WordPress database when the post is updated.\nconst render = compose( [\n\twithSelect( () => {\n\t\treturn {\n\t\t\thideFeaturedImage: select( 'core/editor' ).getEditedPostAttribute( 'meta' )._genesis_hide_singular_image,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch ) => ( {\n\t\tonUpdate( hideFeaturedImage ) {\n\t\t\tdispatch( 'core/editor' ).editPost(\n\t\t\t\t{ meta: newMeta( '_genesis_hide_singular_image', !! hideFeaturedImage ) }\n\t\t\t);\n\t\t},\n\t} ) ),\n] )( GenesisHideFeaturedImageComponent );\n\nregisterPlugin( 'genesis-image-toggle', { render } );\n","/**\n * Builds new meta for use when saving post data.\n *\n * @since   3.1.3\n * @package Genesis\\JS\n * @author  StudioPress\n * @license GPL-2.0-or-later\n */\n\n/**\n * WordPress dependencies\n */\nimport { select } from '@wordpress/data';\n\n/**\n * Builds the new Genesis meta given a new key and value.\n *\n * Ensures that:\n * 1. Only Genesis meta is updated when saving Genesis settings, fixing\n * https://github.com/studiopress/genesis/issues/2473.\n * 2. A value of 'false' is sent instead of null for empty checkboxes, fixing\n * https://github.com/studiopress/genesis/issues/2523.\n * 3. Checkboxes do not flicker on and off when saving posts. See “additional\n * info” at https://github.com/studiopress/genesis/pull/2474#issue-310416033.\n *\n * @param {string} newKey\n * @param {*} newValue\n * @return {Object} Genesis meta keys and values.\n */\nexport function newMeta( newKey, newValue ) {\n\tconst currentMeta = select( 'core/editor' ).getEditedPostAttribute( 'meta' );\n\tconst genesisMeta = Object.keys( currentMeta )\n\t\t.filter( ( key ) => key.startsWith( '_genesis' ) )\n\t\t.reduce( ( obj, key ) => {\n\t\t\tobj[ key ] = currentMeta[ key ];\n\t\t\tif ( obj[ key ] === null ) {\n\t\t\t\tobj[ key ] = false;\n\t\t\t}\n\t\t\treturn obj;\n\t\t}, {} );\n\n\treturn {\n\t\t...genesisMeta,\n\t\t[ newKey ]: newValue,\n\t};\n}\n","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","(function() { module.exports = this[\"wp\"][\"a11y\"]; }());","(function() { module.exports = this[\"wp\"][\"apiFetch\"]; }());","(function() { module.exports = this[\"wp\"][\"components\"]; }());","(function() { module.exports = this[\"wp\"][\"compose\"]; }());","(function() { module.exports = this[\"wp\"][\"data\"]; }());","(function() { module.exports = this[\"wp\"][\"element\"]; }());","(function() { module.exports = this[\"wp\"][\"i18n\"]; }());","(function() { module.exports = this[\"wp\"][\"plugins\"]; }());","(function() { module.exports = this[\"lodash\"]; }());"],"sourceRoot":""}